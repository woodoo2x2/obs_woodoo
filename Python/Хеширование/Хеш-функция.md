Хеш-функция — функция, осуществляющая преобразование набора входных данных **произвольного размера** в последовательность **фиксированного размера**, выполняемое определённым алгоритмом. Преобразование, производимое хеш-функцией, называется **хешированием**, а результат преобразования называется **хешем, хеш-значением** или **хеш-кодом**.

![](https://ucarecdn.com/5af6d57f-1945-47bf-8170-bf76f0994843/-/crop/1290x297/0,81/-/preview/)


**Коллизией хеш-функции** называется ситуация, когда у двух **разных** наборов входных данных **совпадают** хеш-значения. Коллизии существуют для большинства хеш-функций, но для хороших хеш-функций частота их возникновения сведена к минимуму.

В некоторых частных случаях, когда множество различных входных данных конечно, можно задать хеш-функцию, не имеющую коллизий. Однако для хеш-функций, принимающих на вход произвольное количество данных переменной длины и возвращающих хеш-значения постоянной длины, коллизии обязаны существовать, поскольку хотя бы для одного значения хеш-функции соответствующее ему множество входных данных будет бесконечно — и любые два набора данных из этого множества образуют коллизию.


Одной из характеристик хеш-функции является **детерминированность**, то есть при одинаковых входных данных она возвращает одинаковый результат. Из этого следуют два следующих утверждения:

1. если мы имеем два равных набора данных, то хеш-значения этих наборов тоже будут равны
2. если мы имеем два набора данных, хеш-значения которых не равны, то и сами наборы тоже будут не равны

Важно понимать, что из равенства хеш-значений двух наборов данных мы не можем однозначно заключить, что эти наборы тоже равны, поскольку любая хеш-функция, работающая с произвольным количеством данных, может иметь коллизии.

Ни в коем случае нельзя сохранять хеш-значения, возвращаемые [[Функция hash()|функцией hash()]], в базу данных для дальнейшего использования. Во-первых, они могут быть различными при каждом новом запуске программы, во-вторых, алгоритм хеширования может поменяться в новых версиях Python.

На 64-х разрядном компьютере встроенная функция `hash()` возвращает целочисленное значение из диапазона `[-2305843009213693950; 2305843009213693950]`.

В Python равные числовые значения имеют равные хеш-значения, независимо от их типа.

Приведенный ниже код:

```python
from decimal import Decimal
from fractions import Fraction

print(hash(17))
print(hash(17.0))
print(hash(Decimal(17)))
print(hash(complex(17, 0)))
print(hash(Fraction(17, 1)))
```

выводит:

```no-highlight
17
17
17
17
17
```

Подробнее почитать про хеширование [[int (Целочисленный тип данных)|чисел]] можно по [ссылке](https://docs.python.org/3/library/stdtypes.html#numeric-hash)

Хеш-значение пустой строки равно нулю.

Приведенный ниже код:

```python
print(hash(''))
```

выводит:

```no-highlight
0
```

Хеш-значение булевых констант `True` и `False` равны `1` и `0` соответственно.

Приведенный ниже код:

```python
print(hash(True))
print(hash(False))
```

выводит:

```no-highlight
1
0
```

Fлгоритм и различные настройки встроенной функции `hash()` можно получить с помощью модуля `sys`.

Приведенный ниже код:

```python
import sys

print(sys.hash_info)
```

выводит:

```no-highlight
sys.hash_info(width=64, modulus=2305843009213693951, inf=314159, nan=0, imag=1000003, algorithm='siphash24', hash_bits=64, seed_bits=128, cutoff=0)
```