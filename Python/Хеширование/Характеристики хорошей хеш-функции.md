

При знакомстве с хеш-функциями мы упомянули, что они обладают или могут обладать рядом свойств. Например, любая хеш-функция является детерминированной, а хорошая хеш-функция также подвержена лавинообразному эффекту. Дополнительно к характеристикам хорошей хеш-функции можно отнести следующее:

- равномерное распределение хеш-значений
- минимальное количество коллизий
- быстрое вычисление хеш-значений

Встроенная функция [[Функция hash()]] по праву является примером хорошей хеш-функции, так как она обладает всеми упомянутыми характеристиками. Во-первых, она подвержена лавинообразному эффекту.

Приведенный ниже код:

```python
print(hash('beegeek'))
print(hash('Beegeek'))                  # заменяем лишь первый символ строки
```

выводит (хеш-значения могут отличаться):

```no-highlight
8630382989964334220
5789365726824330891
```

Во-вторых, она выполняется быстро даже на очень больших входных данных. На современном компьютере вызов функции `hash()` со строкой из `100` миллионов символов выполняется практически мгновенно.

 Приведенный ниже код:

```python
from time import perf_counter

start = perf_counter()

hash('b' * 100_000_000)

end = perf_counter()
print(end - start)                      # результат в секундах
```

выводит (результат может отличаться):

```no-highlight
0.041030700027476996
```

В-третьих, встроенная функция `hash()` достаточно равномерно распределяет хеш-значения. Посмотрим на распределение ею хеш-значений печатных символов ASCII. Для наглядности сузим диапазон генерируемых хеш-значений до `[0; 20)`.

Приведенный ниже код:

```python
from collections import defaultdict
from string import printable

hashes = defaultdict(int)

for char in printable:
    hashes[hash(char) % 20] += 1

for hash_value, hash_count in sorted(hashes.items()):
    print(hash_value, '■' * hash_count)
```

выводит:

```no-highlight
0 ■■
1 ■■■■■■
2 ■■■■■■■■
3 ■■■
4 ■■■
5 ■■■■■■■
6 ■■■■
7 ■■■■■■■■
8 ■■■■■■
9 ■■■■■■■
10 ■■
11 ■■■■■■■
12 ■■■■■
13 ■■■■
14 ■■■
15 ■■■■■■
16 ■■■■
17 ■■■■■
18 ■■■■
19 ■■■■■■
```

Подводя итог, хорошая хеш-функция должна обладать как минимум следующими четырьмя свойствами:

1. **Лавинообразный эффект.** Небольшое изменение входных данных должно существенно изменять хеш-значение
2. **Быстрое вычисление.** Поскольку хеш-функции используются при построении хеш-таблиц, а они используются для быстрого поиска данных, то сама хеш-функция должна работать очень быстро
3. **Минимальное количество коллизий.** Хеш-функция не должна возвращать много одинаковых значений для разных входных данных
4. **Равномерное распределение хешей.** Хеш-функция должна равномерно распределять хеш-значения при большом количестве входных данных, тем самым минимизируя количество коллизий и эффективно используя весь доступный диапазон чисел