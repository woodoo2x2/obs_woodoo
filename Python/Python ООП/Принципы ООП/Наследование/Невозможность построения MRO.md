

Алгоритм, с помощью которого Python строит [[MRO (Method Resolution Order)]]класса, имеет ряд правил, в число которых входят следующие:

- **Правило наследования.** Если некоторый класс `D` является наследником классов `A, B, C`, то при построении MRO эти классы должны располагаться в том порядке, в котором они были указаны в определении класса `D`, причем между ними могут располагаться другие классы, однако их исходный порядок должен остаться неизменным
- **Правило старшинства.** При построении MRO все классы иерархии должны располагаться в порядке старшинства, то есть ни один родительский класс не должен следовать перед своим дочерним классом.

Возможны ситуации, когда иерархия классов при множественном наследовании такова, что алгоритм при построении MRO не может соблюсти эти правила, в таких случаях построение MRO считается невозможным. Рассмотрим две ситуации множественного наследования, в которых не соблюдается хотя бы одно из приведенных выше правил и MRO построить нельзя.

**Ситуация 1.** Построение MRO класса `C` при следующей иерархии классов:

```python
class A:
    pass

class B(A):
    pass

class C(A, B):
    pass
```

является невозможным по той причине, что каково бы ни было MRO, не соблюдается либо правило наследования, либо правило старшинства:

- правило наследования нарушается при следующем построении MRO:
    
    ```no-highlight
    C, B, A, object
    ```
    
    Так как классы `A` и `B` должны располагаться в том порядке, в котором были указаны в определении класса `C`
- правило старшинства нарушается при следующем построении MRO:
    
    ```no-highlight
    C, A, B, object
    ```
    
    Так как ни один родительский класс не должен следовать перед своим дочерним классом, в данном случае родительским классом является класс `A`, дочерним — класс `B`
    

**Ситуация 2.** Построение MRO класса `E`  при следующей иерархии классов:

```python
class A:
    pass

class B:
    pass

class C(A, B):
    pass

class D(B, A):
    pass

class E(C, D):
    pass
```

является невозможным по той причине, что по правилу наследования родители класса `C` должны быть расположены в порядке `A, B`, в то время как по тому же правилу родители класса `D` должны быть расположены в порядке `B, A`. В MRO класса `E` должны быть соблюдены оба порядка, но этого сделать нельзя, так как они противоречат друг другу.