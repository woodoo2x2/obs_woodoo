

Большинство контекстных менеджеров написаны таким образом, что они могут эффективно использоваться в операторе `with` только один раз. Такие менеджеры называют **одноразовыми**, и они должны создаваться заново каждый раз перед использованием. Когда они уже используются или использовались в операторе `with` – попытка использовать их во второй раз может привести к возбуждению исключения или приведет к неправильной их работе.

Классическим примером одноразового контекстного менеджера является объект, возвращаемый встроенной функцией `open()`.

Приведенный ниже код:

```python
file = open('output.txt', mode='w', encoding='utf-8')

with file:
    file.write('Python generation!')
    
with file:
    file.write('Python generation!')
```

приводит к возбуждению исключения:

```no-highlight
ValueError: I/O operation on closed file.
```

поскольку первый оператор `with` закрывает файл, предотвращая любые дальнейшие операции ввода-вывода с использованием этого файлового объекта.