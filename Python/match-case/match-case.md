В Python версии 3.10 появилась новая конструкция под названием match/case, которая позволяет достаточно гибко анализировать переменные на соответствие шаблонов и для найденного совпадения выполнять некоторые заданные операции. Данный оператор имеет следующий синтаксис:

match <переменная>:  
    case <шаблон_1>:  
        операторы  
    ...  
    case < шаблон_n>:  
        операторы  
    case _:  
        иначе (default)


Давайте вначале запишем эту конструкцию в очень простом варианте:

```py
cmd = "top"
 
match cmd:
    case "top":
        print("вверх")
    case "left":
        print("влево")
    case "right":
        print("вправо")
    case _:  # wildcard
        print("другое")
 
print("проверки завершены")
```
Смотрите, здесь есть некая переменная cmd на строку «top», затем, она указывается после оператора match, внутри которого записаны блоки case. После каждого case указано значение в виде строки. Как только значение переменной оказывается равным значению после case, то выполняются операторы внутри этого блока case и далее выполнение программы переходит к следующей строчке после match – функции print("проверки завершены").

То есть, как только выполняется один из блоков case, оператор match завершает свою работу. Соответственно, внутри match обязательно должен быть записан хотя бы один оператор case. А общее число блоков case может быть произвольным. Конечно, всегда следует помнить о читабельности программы и удобстве ее последующего редактирования.

Внутри каждого блока case должен быть хотя бы один оператор. Например, запись вида:

```py
match cmd:
    case "top":
    case "left":
    case "right":
        print("вверх, влево или вправо")
    case _:  # wildcard
        print("другое")
```

приведет к синтаксической ошибке. Если нужно в одном блоке case учесть сразу несколько констант, это можно сделать с помощью оператора ‘|’ следующим образом:

```py
match cmd:
    case "top" | "left" | "right":
        print("вверх, влево или вправо")
    case _:  # wildcard
        print("другое")
```

Обратите внимание на последний блок case с символом подчеркивания. Это, так называемый, wildcard символ. В Python мы его обычно используем, если по синтаксису нужно прописать переменную, но в программе она нам не нужна. В частности здесь блок case с переменной _ будет отрабатывать всегда, если не отработали все предыдущие блоки. То есть, это некий аналог условного оператора else в if. Например, если переменная:

```py
cmd = "top2"
```

то мы увидим сообщения:

другое  
проверки завершены

Как раз здесь отработал последний блок case.

Те из вас, кто знаком с другими языками программирования, например, С++ или Java, возможно сейчас смотрят на эту программу и думают, ага, так это же аналог конструкции switch/case для проверки переменных на равенство заданных констант. Но не спешите с выводами. В действительности оператор match/case гораздо более гибкий, чем switch/case и гибкость определяется тем, что после case прописывается не просто константа, а шаблон проверки. Сейчас используется простейший шаблон, когда мы сравниваем переменную cmd на равенство указанным после case значениям. Но вариаций здесь гораздо больше и об это мы сейчас пойдет речь.

