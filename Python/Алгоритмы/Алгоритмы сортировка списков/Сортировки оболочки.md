## Что такое сортировка Шелла

Метод Шелла, или сортировка Шелла в структуре данных, представляет собой эффективный алгоритм сортировки сравнением на месте. Он назван в честь Дональда Шелла, когда он предложил первоначальную идею еще в 1959 году. Сортировка Шелла — это обобщенное расширение алгоритма сортировки вставками.

Фундаментальная идея этого алгоритма сортировки состоит в том, чтобы сгруппировать элементы, находящиеся далеко друг от друга, и соответствующим образом отсортировать их. Затем постепенно уменьшайте промежуток между ними. Сортировка Шелла превосходит среднее время рассмотрения дела.plexэффективность сортировки вставками путем сравнения и обмена элементами, которые находятся далеко.

Этот разрыв, известный как интервал, сокращается в соответствии с некоторыми оптимальными последовательностями разрывов. Время выполнения сортировки оболочки также зависит от этих последовательностей. Существует несколько последовательностей пробелов, таких как исходная последовательность Шелла, формула Кнута, приращения Хиббарда и т. Д. Исходная последовательность пробелов Шелла: `n/2, n/4, n/8, ……….1`

## Алгоритм сортировки Шелла

Шаги или процедура алгоритма сортировки оболочки следующие:

**Шаг 1)** Инициализируйте значение интервала, h = n/2. (В этом примере n — размер массива)

**Шаг 2)** Поместите все элементы в пределах интервала h в подсписок.

**Шаг 3)** Отсортируйте эти подсписки, используя сортировку вставкой.

**Шаг 4)** Установите новый интервал, h=h/2.

**Шаг 5)** Если h>0, переходим к шагу 2. В противном случае переходим к шагу 6.

**Шаг 6)** Результатом будет отсортированный массив.

## Работа алгоритма сортировки Шелла

Давайте посмотрим на фоллоwing пример алгоритма сортировки оболочки. В этом примере мы отсортируем следующееwing массив с использованием сортировки оболочки:

[![Работа алгоритма сортировки Шелла](https://www.guru99.com/images/4/shell-sort-algorithm-1.png)](https://www.guru99.com/images/4/shell-sort-algorithm-1.png)

**Шаг 1)** Здесь размер массива равен 8. Таким образом, значение интервала будет h = 8/2 или 4.

**Шаг 2)** Теперь мы будем хранить все элементы на расстоянии 4. В нашем случае это подсписки: {8, 1}, {6, 4}, {7, 5}, {2, 3}.

[![Работа алгоритма сортировки Шелла](https://www.guru99.com/images/4/shell-sort-algorithm-2.png)](https://www.guru99.com/images/4/shell-sort-algorithm-2.png)

**Шаг 3)** Теперь эти подсписки будут отсортированы с использованием сортировки вставкой, где для сравнения обоих будет использоваться временная переменная. numbers и отсортируйте соответственно.

Массив будет выглядеть следующим образомwing после замены operaции-

[![Работа алгоритма сортировки Шелла](https://www.guru99.com/images/4/shell-sort-algorithm-3.png)](https://www.guru99.com/images/4/shell-sort-algorithm-3.png)

**Шаг 4)** Теперь уменьшим начальное значение интервала. Новый интервал будет h=h/2 или 4/2 или 2.

**Шаг 5)** Поскольку 2>0, мы перейдем к шагу 2, чтобы сохранить все элементы на расстоянии 2. На этот раз подсписки:

{1, 5, 8, 7}, {4, 2, 6, 3}

[![Работа алгоритма сортировки Шелла](https://www.guru99.com/images/4/shell-sort-algorithm-4.png)](https://www.guru99.com/images/4/shell-sort-algorithm-4.png)

Затем эти подсписки будут отсортированы с использованием сортировки вставками. После сравнения и замены первого подсписка массив будет иметь следующий вид:wing.

[![Работа алгоритма сортировки Шелла](https://www.guru99.com/images/4/shell-sort-algorithm-5.png)](https://www.guru99.com/images/4/shell-sort-algorithm-5.png)

После сортировки второго подсписка исходный массив будет иметь вид:

[![Работа алгоритма сортировки Шелла](https://www.guru99.com/images/4/shell-sort-algorithm-6.png)](https://www.guru99.com/images/4/shell-sort-algorithm-6.png)

Затем интервал снова будет уменьшен. Теперь интервал будет h=h/2, 2/1 или 1. Следовательно, мы будем использовать алгоритм сортировки вставками для сортировки измененного массива.

Фоллоwing представляет собой пошаговое процедурное описание сортировки вставками.

[![Работа алгоритма сортировки Шелла](https://www.guru99.com/images/4/shell-sort-algorithm-7.png)](https://www.guru99.com/images/4/shell-sort-algorithm-7.png)

[![Работа алгоритма сортировки Шелла](https://www.guru99.com/images/4/shell-sort-algorithm-8.png)](https://www.guru99.com/images/4/shell-sort-algorithm-8.png)

[![Работа алгоритма сортировки Шелла](https://www.guru99.com/images/4/shell-sort-algorithm-9.png)](https://www.guru99.com/images/4/shell-sort-algorithm-9.png)

Интервал снова делится на 2. К этому моменту интервал становится равным 0. Итак, переходим к шагу 6.

**Шаг 6)** Поскольку интервал равен 0, к этому времени массив уже отсортирован. Сортированный массив —

[![Работа алгоритма сортировки Шелла](https://www.guru99.com/images/4/shell-sort-algorithm-9.png)](https://www.guru99.com/images/4/shell-sort-algorithm-9.png)

## Пример сортировки оболочки в Python

**Входной сигнал:**

#Shell Sort Example in Python
def ShellSort(data, size):
    interval = size // 2
    while interval > 0:
        for i in range(interval, size):
            temp = data[i]
            j = i
            while j >= interval and data[j - interval] > temp:
                data[j] = data[j - interval]
                j -= interval
            data[j] = temp
        interval //= 2
data = [8, 6, 7, 2, 1, 4, 5, 3]
ShellSort(data, len(data))
print('Sorted Output:')
print(data)