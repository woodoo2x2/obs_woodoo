**Coroutines** **(Корутины)** — это функции, которые могут быть приостановлены и возобновлены. Они позволяют контролировать моменты своей приостановки и возобновления работы, что делает их идеальными для сценариев асинхронного программирования, например, при выполнении длительных задач, ожидании данных от внешних ресурсов или выполнении других корутин.

### Пишем первый асинхронный код. Ключевые слова `async` и `await`.

Для создания корутины нужно использовать ключевое слово `async`.

```
import asyncio


async def example_coroutine():
    print("Hello from coroutine!")
```

Если функция начинается с конструкции `async def`, она является асинхронной функцией, и внутри неё можно использовать ключевое слово `await` для вызова других корутин или асинхронных операций внутри тела этой корутины. Использование ключевого слова `await` вне корутины вызовет ошибку. 

```
import asyncio


async def example_coroutine():
    await asyncio.sleep(1)  # запускаем внутри корутины асинхронную функцию sleep()
    print("Hello from coroutine!")
```

Корутина может принимать аргументы и возвращать значения. Правила передачи аргументов аналогичны правилам для обычных синхронных функций. 

```
import asyncio


async def example_coroutine(number, *args, **kwargs):
    await asyncio.sleep(1)  # запускаем внутри корутины асинхронную функцию sleep()
    print(f"Hello from coroutine {number}!")
    return f"Корутина {number} завершила работу"
```

### **Запуск корутины. Функция `asyncio.run()`.**

Мы создали первую корутину `example_coroutine()`. Для ее запуска нужно использовать функцию `asyncio.run()`. Если попытаться запустить корутину, как обычную функцию, выполнение корутины не начнется. Вместо этого будет создан объект корутины. 

```
#НЕ ПРАВИЛЬНО
async def example_coroutine():
    print("Hello from coroutine!")

example_coroutine()  # создан объект корутины example_coroutine(), корутина не запущена!


#ПРАВИЛЬНО
async def example_coroutine():
    print("Hello from coroutine!")

asyncio.run(example_coroutine())  # корутина example_coroutine() запущена. 
```

### Кооперативная многозадачность.

Корутины поддерживают модель *_кооперативной многозадачност_и, в отличие от *_вытесняющей многозадачности_, используемой с потоками. Это значит, что корутины сами передают управление обратно в цикл событий. Если корутина явно не передала управление, то она будет выполняться до ее полного завершения.