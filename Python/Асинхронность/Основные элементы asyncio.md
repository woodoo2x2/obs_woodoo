

Теперь, когда мы понимаем в каких ситуациях стоит использовать асинхронное программирование – давайте разберем, из чего будет состоять простая программа, написанная с помощью библиотеки `asyncio` для асинхронного выполнения IO задач. 

Ниже представлена схема работы простого асинхронного приложения:

![](https://ucarecdn.com/b9ed2fe8-a62e-46c4-8b67-78583615eaf4/)

Как мы уже говорили, стандартное приложение с использованием asyncio выполняется в одном потоке. 

1. Сначала нам нужно определить асинхронные функции - корутины (coroutine), которые будут реализовывать какую-то логику, связанную с использованием операций ввода/вывода.   
2. Из данных корутин нужно создать задачи (Task). Количество задач для каждой корутины определяется целями вашего приложения. 
3. Данные задачи попадают в цикл событий (event loop), который отвечает за выполнение всех запланированных задач. 
4. Одна из задач начинает свое выполнение. 
5. Задача выполняется до тех пор пока она не передаст управление обратно в цикл событий. После этого цикл событий отдаст управление другой задаче. Передача управления обратно в цикл событий может произойти в двух случаях: 
    - задача завершена
    - задача приостановлена, так как она отправила асинхронный запрос и ожидает ответ

Такая смена управления между задачами внутри цикла событий происходит до тех пор, пока все запланированные задачи не будут выполнены. После этого цикл событий завершит свою работу. 

В следующих уроках данного модуля мы подробно разберем следующие элементы `asyncio`:

- [[Корутины]]
- Задачи

 А также изучим правила и порядок выполнения задач циклом событий. Если сейчас данная схема кажется непонятной, предлагаю возвращаться к ней по мере обучения в данном модуле.