## Случайные числа

**Случайные числа** – последовательность чисел, в которой невозможно предсказать следующее число, зная все предыдущие.

**Случайные числа** широко используются в различных задачах программирования:

- в играх (имитация подбрасывания игрального кубика и другие подобные ситуации);
- в программах имитационного моделирования;
- в статистических программах, случайным образом отбирающих данные для анализа;
- в компьютерной безопасности для шифрования уязвимых данных.

Для создания истинно случайных чисел можно бросать монету, игральные кости, или измерять какой-нибудь шумовой сигнал.

## **Псевдослучайные числа**

Ставить сложные электронные приборы на каждый компьютер для генерации истинно случайных чисел дорого, поэтому математики и программисты создали алгоритмы получения **псевдослучайных чисел**.

Для обычного человека псевдослучайные числа практически не отличаются от случайных, однако они вычисляются по математической формуле, и зная первое число и формулу, можно определить любое следующее.

Python предлагает встроенные функции для работы с псевдослучайными числами. Эти функции хранятся в модуле `random` в стандартной библиотеке.

## Модуль random

Модуль `random` предоставляет функции для генерации псевдослучайных чисел, букв и случайного выбора элементов последовательности (списка, строки и т.д.).

Для использования этих функций в начале программы необходимо подключить модуль, что делается командой **import**:

```python
import random
```

После подключения модуля мы можем использовать его функции.

**Функция randint()**

Функция `randint()` принимает два обязательных аргумента `a` и `b` и возвращает псевдослучайное целое число из отрезка [a; b][a;b].

Следующий код выводит два псевдослучайных целых числа: `num1` из отрезка [0;17][0;17] и `num2` из отрезка [−5;5][−5;5]. 

```python
import random

num1 = random.randint(0, 17)
num2 = random.randint(-5, 5)
```

Левая и правая граница `a` и `b` включаются в диапазон генерируемых псевдослучайных чисел. Результатом вызова функции `random.randint(2, 9)` может быть любое число от 2 до 9, включая 2 и 9.

Следующий код выводит 10 псевдослучайных целых чисел из диапазона [1; 100]]:

```python
import random

for _ in range(10):
    print(random.randint(1, 100))
```

Среди этих чисел возможны повторения.

### Функция randrange()

Если вы помните, как применять функцию `range()`, то почувствуете себя непринужденно с функцией `randrange()`. Функция `randrange()` принимает такие же аргументы, что и функция `range()`. Различие состоит в том, что функция `randrange()`  
не возвращает саму последовательность чисел. Вместо этого она возвращает случайно выбранное число из последовательности чисел.

Следующий код присваивает переменной `num` псевдослучайное число в диапазоне от 00 до 99:

```python
import random

num = random.randrange(10)
```

Аргумент 1010 задает конечный предел последовательности значений. Функция возвратит случайно выбранное число из последовательности чисел от 00 до конечного предела, исключая сам предел.

Следующий код задает начальное значение и конечный предел последовательности:

```python
import random

num = random.randrange(5, 10)
```

Таким образом в переменной `num` будет храниться псевдослучайное число в диапазоне от 55 до 99.

Следующий код задает начальное значение, конечный предел и величину шага:

```python
import random

num = random.randrange(0, 101, 10)
```

Таким образом в переменной `num` будет храниться псевдослучайное число из последовательности чисел: `0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100`.

### Функция random()

Функции `randint()` и `randrange()` возвращают псевдослучайное **целое число**. А вот функция `random()` возвращает псевдослучайное число с плавающей точкой (вещественное число). В функцию `random()` никаких аргументов не передается. Функция `random()` возвращает случайное число с плавающей точкой в диапазоне от 0.00.0 до 1.01.0 (исключая 1.01.0).

Следующий код выводит случайное число с плавающей точкой из диапазона [0.0; 1.0)[0.0;1.0):

```python
import random

num = random.random()
print(num)
```

### Функция uniform()

Функция `uniform()` тоже возвращает случайное число с плавающей точкой, но при этом она позволяет задавать диапазон для отбора значений.

Следующий код выводит псевдослучайное число с плавающей точкой из диапазона [1.5; 17.3][1.5;17.3] (включительно):

```python
import random

num = random.uniform(1.5, 17.3)
print(num)
```

### Функция seed()

Как уже было сказано **псевдослучайные числа** вычисляются на основе некой формулы. Генерация случайных чисел инициируется **начальным значением**. Оно используется в вычислении, возвращающем следующее случайное число в ряду. Когда модуль `random` импортируется, он получает системное время из внутреннего генератора тактовых импульсов компьютера и использует его как начальное значение. Системное время – целое число, представляющее собой текущую дату и время вплоть до сотой секунды. Если бы всегда использовалось одно и то же начальное значение, функции генерации случайных чисел всегда  возвращали бы один и тот же ряд псевдослучайных чисел. Поскольку системное время меняется каждую сотую долю секунды, можно утверждать, что всякий раз, когда импортируется модуль `random`, будет создана отличающаяся от предыдущих последовательность случайных чисел.

Вместе с тем, некоторые программы требуют генерации одной и той же последовательности случайных чисел. Для этого можно вызвать функцию `seed()`, задав начальное значение.

Следующий код генерирует 1010 псевдослучайных чисел, и при этом содержит инструкцию, явно устанавливающую начальное значение для генератора случайных чисел:

```python
import random

random.seed(17)   # явно устанавливаем начальное значение для генератора случайных чисел

for _ in range(10):
    print(random.randint(1, 100))
```

Результат выполнения такого кода:

```no-highlight
67
54
39
47
38
23
99
91
91
70
```

Если выполнить код еще раз, получим ту же самую последовательность псевдослучайных чисел.

## Метод shuffle()

Метод `shuffle()` принимает список в качестве обязательного аргумента и перемешивает его случайным образом.

Следующий код перемешивает список `numbers` случайным образом, а затем выводит его содержимое:

```python
import random

numbers = [1, 2, 3, 4, 5, 6, 7, 8]
random.shuffle(numbers)
print(numbers)
```

Результатом работы такого кода может быть:

```no-highlight
[4, 7, 8, 1, 2, 3, 6, 5]
```

## Метод choice()

Метод `choice()` принимает список (строку, кортеж) в качестве обязательного аргумента и возвращает **один** случайный элемент.

Следующий код выводит по одному случайному элементу из строки `'BEEGEEK'`, списка `[1, 2, 3, 4]` и кортежа  `('a', 'b', 'c', 'd')`:

```python
import random

print(random.choice('BEEGEEK'))
print(random.choice([1, 2, 3, 4]))
print(random.choice(('a', 'b', 'c', 'd')))
```

Результатом работы такого кода может быть:

```no-highlight
E
3
c
```

## Метод sample()

Метод `sample()` принимает два обязательных аргумента: первый – список (строка, кортеж, множество), второй – количество случайных элементов. Возвращает **список** из указанного количества уникальных (имеющих разные индексы) случайных элементов.

Результатом работы кода:

```python
import random
 
numbers = [2, 5, 8, 9, 12]

print(random.sample(numbers, 1))
print(random.sample(numbers, 2))
print(random.sample(numbers, 3))
print(random.sample(numbers, 5))
```

может быть:

```no-highlight
[9]
[12, 5]
[9, 2, 8]
[12, 8, 9, 5, 2]
```

Количество случайных элементов не должно превышать длину исходного списка (строки). Следующий код:

```python
import random
 
numbers = [2, 5, 8, 9, 12]

print(random.sample(numbers, 6))
```

приведет к ошибке:

```
ValueError: Sample larger than population or is negative
```

## Модуль string

Встроенный модуль `string` раньше использовался для расширения стандартных возможностей (функционала) строкового типа данных `str`. На текущий момент все функции из модуля `string` переехали в методы строкового типа данных `str`, однако в модуле `string` остались удобные константные строки, которые можно использовать при решении задач.

Приведенный ниже код:

```python
import string

print(string.ascii_letters)
print(string.ascii_uppercase)
print(string.ascii_lowercase)
print(string.digits)
print(string.hexdigits)
print(string.octdigits)
print(string.punctuation)
print(string.printable)
```

выводит:

```no-highlight
abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ
ABCDEFGHIJKLMNOPQRSTUVWXYZ
abcdefghijklmnopqrstuvwxyz
0123456789
0123456789abcdefABCDEF
01234567
!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~
0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~ \t\n\r\x0b\x0c
```


Модуль random может применяться:
1. В реализации [[Болотная сортировка]]
2. При использовании [[Метод Монте-Карло|Методa Монте-Карло]]


**Примечание 0.** Помимо рассмотренных в уроке методов, модуль `random` содержит много дополнительных методов. Подробнее о модуле `random` можно почитать в [документации](https://docs.python.org/3/library/random.html#).**Примечание 1.** Подключение модуля следующим образом:

```python
from random import *
```

позволяет в дальнейшем не писать название модуля и символ точки при вызове функций модуля.

**Примечание 2.** Функции модуля `random` на самом деле являются **методами** одноименного класса `random`.

**Примечание 3.** В Python для генерации псевдослучайных чисел используется один из самых совершенных алгоритмов генерации псевдослучайных чисел – [[Вихрь Мерсенна]], разработанный в 1997 году. Реализация выполнена на языке C, является быстрой и потокобезопасной.

**Примечание 4.** Настоящие случайные числа можно получить с [сайта](https://www.random.org/randomness/). Данный сайт использует атмосферный шум для создания по-настоящему случайных чисел.

**Примечание 5.** Пусть r – случайное число из интервала (0; 1). Для того, чтобы перевести такое число в интервал (a; b)можно воспользоваться формулой a+(b−a)⋅r