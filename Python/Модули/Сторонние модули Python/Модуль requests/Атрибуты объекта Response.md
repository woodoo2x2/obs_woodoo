Объект `Response` инкапсулирует всю информацию, возвращенную сервером, и предоставляет ряд атрибутов и методов для доступа к этой информации. От статус-кода HTTP до содержимого ответа, от заголовков до времени выполнения запроса — все эти данные доступны через различные атрибуты объекта `Response`.

Понимание этих атрибутов не только упрощает жизнь разработчикам, но и делает взаимодействие с веб-ресурсами более эффективным и предсказуемым. В этом степе мы подробно рассмотрим каждый атрибут объекта `Response`, чтобы вы могли максимально эффективно использовать возможности библиотеки Requests в своих проектах.

### Характеристики объекта Response

1. **Инкапсуляция данных**: Объект `Response` инкапсулирует все элементы HTTP-ответа, включая статус-код, заголовки, куки и тело ответа.
    
2. **Иммутабельность**: После создания объект неизменяем. Это значит, что все его атрибуты и данные являются константными и не могут быть модифицированы.
    
3. **Легковесность**: Объект `Response` оптимизирован для минимального потребления ресурсов, что делает его эффективным для использования в высокопроизводительных приложениях.
    

### Поведение объекта Response

1. **Доступ к данным**: Объект `Response` предоставляет удобные методы для доступа к различным частям HTTP-ответа.
    
2. **Потоковая обработка**: В случае больших ответов объект `Response` может быть настроен для потоковой обработки данных, что позволяет эффективно работать с большими объемами информации.
    
3. **Автоматическая Десериализация**: Некоторые методы, например, `json()`, автоматически преобразуют данные ответа в соответствующий Python-объект.
    
4. **Обработка исключений**: В случае неудачного запроса (например, при статус-коде 404 или 500), объект `Response` не генерирует исключение. Вместо этого он предоставляет соответствующий статус-код, и разработчику предоставляется возможность обработать эту ситуацию в коде.
    
5. **Взаимодействие с Сессиями**: Объект `Response` может быть использован вместе с объектами `Session` для предоставления дополнительной функциональности, такой как сохранение состояния между запросами.
    

Когда вы выполняете запрос, например:

```
response = requests.get('https://httpbin.org/get')
```

Переменная `response` теперь содержит объект `Response`, и вы можете получить доступ к различным атрибутам и методам этого объекта для изучения ответа. 

Если бы можно было "распечатать" всю структуру объекта `Response`, она могла бы выглядеть примерно так:

```
Response {
    status_code: 200,
    headers: {...},
    url: 'https://httpbin.org/get',
    text: '...',
    content: b'...',
    json: <method>,
    elapsed: <datetime.timedelta>,
    ...
}
```

Здесь `status_code`, `headers`, `url`, `text`, `content` и так далее — это атрибуты объекта, а `json` и `elapsed` — это методы и атрибуты, которые вы можете использовать.

Важно понимать, что этот "визуальный" обзор — это лишь способ концептуально представить объект. На практике для доступа к этим атрибутам и методам вы будете использовать точечную нотацию, как в `response.status_code` или `response.json()`.

Объект `Response` не является сложным и содержит множество атрибутов и методов, которые предоставляют полный контроль над HTTP-ответом.

Все доступные методы предоставлены ниже.

| Поле              | Описание                                                            |
| ----------------- | ------------------------------------------------------------------- |
| **`status_code`** | HTTP-код статуса ответа.                                            |
| `**text**`        | Текстовое представление содержимого ответа.                         |
| `**content**`     | Содержимое ответа в виде байтов.                                    |
| `**json**`        | Метод для десериализации JSON-ответа.                               |
| `**headers**`     | [[Заголовки headers]] HTTP, возвращаемые сервером.                  |
| `**url**`         | Исходный URL-адрес, на который был выполнен запрос.                 |
| `**encoding**`    | Кодировка ответа.                                                   |
| `**elapsed**`     | Время, затраченное на выполнение запроса.                           |
| `**cookies**`     | Куки, возвращаемые сервером.                                        |
| `**history**`     | Список объектов Response, представляющих историю перенаправлений.   |
| `**ok**`          | Логический атрибут, указывающий, был ли запрос успешным (коды 2xx). |
| **`reason`**      | Сообщение статуса HTTP (например, "OK", "Not Found").               |

Запустите этот код у себя и сопоставьте каждый принт, с каждым атрибутом чтобы лучше понять происходящее.

```python
import requests

# URL для примеров
url = "https://httpbin.org/user-agent"

# Выполняем GET-запрос
response = requests.get(url)

# status_code: HTTP-код статуса ответа.
print("HTTP-код статуса ответа:", response.status_code)

# text: Текстовое представление содержимого ответа.
print("Текстовое содержимое ответа:", response.text)

# content: Содержимое ответа в виде байтов.
print("Содержимое ответа в виде байтов:", response.content)

# json: Метод для десериализации JSON-ответа.
json_response = response.json()
print("Десериализованный JSON-ответ:", json_response)

# headers: Заголовки HTTP, возвращаемые сервером.
print("Заголовки HTTP:", response.headers)

# url: Исходный URL-адрес, на который был выполнен запрос.
print("Исходный URL-адрес запроса:", response.url)

# encoding: Кодировка ответа.
print("Кодировка ответа:", response.encoding)

# elapsed: Время, затраченное на выполнение запроса.
print("Время выполнения запроса:", response.elapsed)

# cookies: Куки, возвращаемые сервером.
print("Куки, возвращаемые сервером:", response.cookies)

# history: Список объектов Response, представляющих историю перенаправлений.
print("История перенаправлений:", response.history)

# ok: Логический атрибут, указывающий, был ли запрос успешным (коды 2xx).
print("Запрос успешен (коды 2xx):", response.ok)

# reason: Сообщение статуса HTTP (например, "OK", "Not Found").
print("Сообщение статуса HTTP:", response.reason)
```


#ПарсингPython 