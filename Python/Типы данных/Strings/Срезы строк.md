

В предыдущем уроке мы научились работать с конкретными символами строки с помощью индексов `[]`. Иногда нужно бывает работать с целыми частями строки, в таком случае мы используем **срезы (slices)**. Срезы похожи на комбинацию индексации и функции `range()`.

Рассмотрим строку `s = 'abcdefghij'`.

|   |   |   |   |   |   |   |   |   |   |   |
|---|---|---|---|---|---|---|---|---|---|---|
|Положительные индексы|0|1|2|3|4|5|6|7|8|9|
|Строка|a|b|c|d|e|f|g|h|i|j|
|Отрицательные индексы|-10|-9|-8|-7|-6|-5|-4|-3|-2|-1|

![](https://ucarecdn.com/2d3260a0-7b6f-4caa-a787-a984642d958c/)

С помощью среза мы можем получить несколько символов исходной строки, создав диапазон индексов, разделенных двоеточием `s[x:y]`.

Следующий программный код:

```python
print(s[2:5])
print(s[0:6])
print(s[2:7])
```

выводит:

```no-highlight
cde
abcdef
cdefg
```

![](https://ucarecdn.com/5d8ce13d-ab84-420f-bc66-f3fea29d1cd2/)

![](https://ucarecdn.com/3b2d0603-efe3-4010-a4d0-de4a61e14285/)

![](https://ucarecdn.com/29a3d3b0-e5e5-427f-9a87-bf9e340686c3/)

При построении среза `s[x:y]` первое число – это то место, где начинается срез (**включительно**), а второе – это место, где заканчивается срез (**невключительно**). Разрезая строки, мы создаем подстроку, которая по сути является строкой внутри другой строки.

### Срез до конца, от начала

Если опустить второй параметр в срезе `s[x:]` (но поставить двоеточие), то срез берется до конца строки. Аналогично если опустить первый параметр `s[:y]`, то можно взять срез от начала строки. Срез `s[:]` совпадает с самой строкой `s`.

Следующий программный код:

```python
print(s[2:])
print(s[:7])
```

выводит:

```no-highlight
cdefghij
abcdefg
```

![](https://ucarecdn.com/fb6155f1-af7e-4ff5-9ddd-97dac90718bb/)

![](https://ucarecdn.com/3ee5e92a-4215-48a9-9677-154aa7ee24e0/)

 ![|50](https://ucarecdn.com/0d4e7e9c-3583-47de-82f1-2d752a0c5f8e/)    Срез `s[:]` возвращает исходную строку.

### Отрицательные индексы в срезе

Мы также можем использовать отрицательные индексы для создания срезов. Как уже говорилось ранее, отрицательные индексы строки начинаются с `-1` и отсчитываются до достижения начала строки. При использовании отрицательных индексов _**первый параметр среза должен быть меньше второго, либо должен быть пропущен**_.

Следующий программный код:

```python
print(s[-9:-4])
print(s[-3:])
print(s[:-3])
```

выводит:

```no-highlight
bcdef
hij
abcdefg
```

![](https://ucarecdn.com/17a389dc-abcd-4e3b-9345-710d43926a22/)

![](https://ucarecdn.com/7f0a2c66-aa21-4436-8dff-abba92722139/)

![](https://ucarecdn.com/2cc4873d-04eb-4938-b5e5-88a15f6beb26/)

![|50](https://ucarecdn.com/0d4e7e9c-3583-47de-82f1-2d752a0c5f8e/)    Удалить из строки последний символ можно при помощи среза `s[:-1]`.

### Шаг среза

Мы можем передать в срез третий необязательный параметр, который отвечает за шаг среза. К примеру, срез `s[1:7:2]` создаст строку `bdf`, состоящую из каждого второго символа (индексы 1,3,51,3,5, правая граница не включена в срез).

![](https://ucarecdn.com/cf9cb9a5-1f61-4695-baca-1a6e2c5dad6f/)

### Отрицательный шаг среза

Если в качестве шага среза указать **отрицательное число**, то символы будут идти в обратном порядке.

Следующий программный код:

```python
print(s[::-1])
```

выводит:

```no-highlight
jihgfedcba
```

Следующий программный код:

```python
print(s[1:7:2])
print(s[3::2])
print(s[:7:3])
print(s[::2])
print(s[::-1])
print(s[::-2])
```

выводит:

```no-highlight
bdf
dfhj
adg
acegi
jihgfedcba
jhfdb
```

### Подводя итог

|Программный код|Результат|Пояснение|
|---|---|---|
|`s[2:5]`|`cde`|строка состоящая из символов с индексами 2,3,42,3,4|
|`s[:5]`|`abcde`|первые пять символов строки|
|`s[5:]`|`fghij`|строка состоящая из символов с индексами от 5 до конца|
|`s[-2:]`|`ij`|последние два символа строки|
|`s[:]`|`abcdefghij`|вся строка целиком|
|`s[1:7:2]`|`bdf`|строка состоящая из каждого второго символа с индексами от 11 до 66|
|`s[::-1]`|`jihgfedcba`|строка в обратном порядке, так как шаг отрицательный|
## Изменение символа строки по индексу

Предположим, у нас есть строка `s = 'abcdefghij'` и мы хотим заменить символ с индексом 4 на `'X'`. Можно попытаться написать код:

```python
s[4] = 'X'
```

Однако такой код не работает. В Python строки являются **неизменяемыми**, то есть мы не можем менять их содержимое с помощью индексатора.

Если мы хотим поменять какой-либо символ строки `s`, мы должны создать новую строку. Следующий код использует срезы и решает поставленную задачу:

```python
s = s[:4] + 'X' + s[5:]
```

Мы создаем два среза: от начала строки до 5-го символа (не включительно) и с 6-го символа (включительно) по конец строки, а между ними вставляем нужный нам символ, который встанет на 5-ю позицию (44 индекс).

Синтаксис срезов строк очень похож на синтаксис функции [[Функция range()|range()]].

Если первый параметр среза больше второго, то срез создает пустую строку.
