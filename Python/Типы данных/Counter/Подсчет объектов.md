
Иногда нам нужно узнать, как часто некоторый объект встречается в каком-либо источнике данных (список, кортеж, строка и т.д). Другими словами, нам нужно посчитать количество вхождений объекта. Обычно для таких целей используется переменная-счетчик, значение которой увеличивается на единицу при каждом обнаружении нужного объекта.

Приведенный ниже код:

```python
data = 'mississippi'
counter = 0

for letter in data:
    if letter == 's':
        counter += 1

print(counter)
```

выводит количество вхождений символа `s` в строке `mississippi`:

```no-highlight
4
```

Если нам нужно посчитать количество нескольких объектов, то нам нужно создать большое количество счетчиков. Однако вместо этого куда удобнее воспользоваться одним словарем. В ключах такого словаря будут храниться объекты, которые мы считаем, а значения по этим ключам будут содержать количество повторений данного объекта.

Приведенный ниже код:

```python
data = 'mississippi'
counter = {}

for letter in data:
     if letter not in counter:
         counter[letter] = 0
     counter[letter] += 1

print(counter)
```

выводит количество различных символов в строке `mississippi`:

```no-highlight
{'m': 1, 'i': 4, 's': 4, 'p': 2}
```

Использования словаря для решения задачи подсчета накладывает некоторые ограничения на ключи. Ключами словаря должны быть хешируемые значения. В Python неизменяемые объекты являются хешируемыми.

Для упрощения предыдущего кода мы можем использовать словарный [[Метод get()(dict)]].

Приведенный ниже код:

```python
data = 'mississippi'
counter = {}

for letter in data:
     counter[letter] = counter.get(letter, 0) + 1

print(counter)
```

выводит:

```no-highlight
{'m': 1, 'i': 4, 's': 4, 'p': 2}
```

Мы также можем использовать уже изученный ранее тип словаря [[!Тип данных collections.defaultdict]].

Приведенный ниже код:

```python
from collections import defaultdict

data = 'mississippi'
counter = defaultdict(int)

for letter in data:
     counter[letter] += 1

print(dict(counter))
```

выводит:

```no-highlight
{'m': 1, 'i': 4, 's': 4, 'p': 2}
```

Из приведенных трех решений последнее, пожалуй, является наиболее читабельным, коротким и лаконичным. Тем не менее, учитывая, что задача подсчета объектов является достаточно распространенной в программировании, язык Python предлагает лучший способ ее решения. Для подсчета объектов в модуле [[Модуль collenctions|collections]] есть специальный тип данных под названием [[Тип данных collections.Counter]], о котором пойдет речь далее

 Обратите внимание на то, что если значения по ключам будут иметь тип, отличный от числового, но при этом допускающий сложение (например, строки), то ошибок при вызове метода `update()` возникать не будет.

Приведенный ниже код:

```python
from collections import Counter

counter1 = Counter(i=4, s='4')
counter2 = Counter(i=5, s='5')

counter1.update(counter2)

print(counter1)
```

выводит:

```no-highlight
Counter({'i': 9, 's': '54'})
```
