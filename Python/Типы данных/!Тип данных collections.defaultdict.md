## –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö defaultdict

–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –æ–±—ã—á–Ω—ã–º–∏ —Å–ª–æ–≤–∞—Ä—è–º–∏ ([[–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö dict]])¬†‚Äì —ç—Ç–æ –ø–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø (–∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ) –ø–æ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∫–ª—é—á—É. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—é –æ—à–∏–±–∫–∏ `KeyError`. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ —á—Ç–æ –º—ã –Ω–∞—É—á–∏–ª–∏—Å—å —Ä–µ—à–∞—Ç—å –¥–∞–Ω–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É —à—Ç–∞—Ç–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö¬†`defaultdict`.

–¢–∏–ø `defaultdict` –≤–µ–¥–µ—Ç —Å–µ–±—è –ø–æ—á—Ç–∏ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –æ–±—ã—á–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å `dict`, –Ω–æ –µ—Å–ª–∏ –º—ã –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø (–∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ) –ø–æ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∫–ª—é—á—É, —Ç–æ¬†`defaultdict` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –∫–ª—é—á –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–ª—è –Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –¢–∞–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–µ–ª–∞–µ—Ç `defaultdict`¬†—É–¥–æ–±–Ω—ã–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –∫–ª—é—á–µ–π –≤ —Å–ª–æ–≤–∞—Ä—è—Ö.

–í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –Ω–∏–∂–µ –∫–æ–¥–µ –º—ã –æ–±—Ä–∞—â–∞–µ–º—Å—è –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∫–ª—é—á—É –≤ —Å–ª–æ–≤–∞—Ä–µ `info`:

```python
info = {'name': 'Timur', 'age': 29, 'job': 'Teacher'}

print(info['salary'])
```

—á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—é –æ—à–∏–±–∫–∏:

```no-highlight
KeyError: 'salary'
```

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è —Ç–∞–∫–æ–π –æ—à–∏–±–∫–∏:

- [[–ú–µ—Ç–æ–¥ setdefault()(dict)]]
- [[–ú–µ—Ç–æ–¥ get()(dict)]]
- –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–ª—é—á–∞ —Å –ø–æ–º–æ—â—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ (`key in dict`)

¬† ¬† 

–°–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Å–∫–æ–±–æ–∫ (–∏–Ω–¥–µ–∫—Å–∞—Ç–æ—Ä–æ–≤) –æ—á–µ–Ω—å —É–¥–æ–±–Ω–æ –∏ –∫—É–¥–∞ –ø—Ä–∏—è—Ç–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ `setdefault()` –∏¬†`get()`.

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –Ω–µ –≤–æ–∑–Ω–∏–∫–∞–ª–æ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –ø–æ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∫–ª—é—á—É —Å –ø–æ–º–æ—â—å—é –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Å–∫–æ–±–æ–∫, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —Å–ª–æ–≤–∞—Ä—è ‚Äì `defaultdict`.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import defaultdict

info = defaultdict(int)       # —Å–æ–∑–¥–∞–µ–º —Å–ª–æ–≤–∞—Ä—å —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0

info['name'] = 'Timur'
info['age'] = 29
info['job'] = 'Teacher'

print(info['salary'])
print(info)
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
0
defaultdict(<class 'int'>, {'name': 'Timur', 'age': 29, 'job': 'Teacher', 'salary': 0})
```

–§—É–Ω–∫—Ü–∏—è `defaultdict()` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤¬†–∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —Ç–∏–ø —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.¬†–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –¥–ª—è –∫–ª—é—á–µ–π, –∫ –∫–æ—Ç–æ—Ä—ã–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ, —Å–ª–æ–≤–∞—Ä—å `defaultdict` –ø–æ—Å—Ç–∞–≤–∏—Ç –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞:

- –¥–ª—è [[int (–¶–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö)]]¬†‚Äì —á–∏—Å–ª–æ `0`
- –¥–ª—è [[float (–ß–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π)]]¬†‚Äì —á–∏—Å–ª–æ `0.0`
- –¥–ª—è [[bool (–õ–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö)]]¬†‚Äì –∑–Ω–∞—á–µ–Ω–∏–µ `False`
- –¥–ª—è [[str (–°—Ç—Ä–æ–∫–∏)]]¬†‚Äì –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ `''`
- –¥–ª—è [[list (–°–ø–∏—Å–∫–∏)]]¬†‚Äì –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ `[]`
- –¥–ª—è [[–ö–æ—Ä—Ç–µ–∂–∏ (tuple)]]¬†‚Äì –ø—É—Å—Ç–æ–π –∫–æ—Ä—Ç–µ–∂ `()`
- –¥–ª—è [[set (–ú–Ω–æ–∂–µ—Å—Ç–≤–∞)]]¬†‚Äì –ø—É—Å—Ç–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ `set()`
- –¥–ª—è [[dict (–°–ª–æ–≤–∞—Ä—å)]] ‚Äì –ø—É—Å—Ç–æ–π —Å–ª–æ–≤–∞—Ä—å `{}`

–ü–æ–º–∏–º–æ –ø–µ—Ä–≤–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞¬†‚Äì —Ç–∏–ø–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äì –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–¥–∞—Ç—å –≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç: —Å–ª–æ–≤–∞—Ä—å, –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω¬†`defaultdict`.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import defaultdict

info = defaultdict(int, {'name': 'Timur', 'age': 29, 'job': 'Teacher'})

print(info['name'])
print(info['salary'])
print(info)
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
Timur
0
defaultdict(<class 'int'>, {'name': 'Timur', 'age': 29, 'job': 'Teacher', 'salary': 0})
```

–¢–∞–∫–∂–µ –¥–æ–ø—É—Å—Ç–∏–º—ã –≤—Å–µ —Å–ø–æ—Å–æ–±—ã, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ã—á–Ω—ã—Ö —Å–ª–æ–≤–∞—Ä–µ–π, –∞ –∏–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥–∞—á–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏–ª–∏ –∏—Ç–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ø–∏—Å–æ–∫ –∫–æ—Ä—Ç–µ–∂–µ–π).

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import defaultdict

info1 = defaultdict(int, name='Timur', age=29, job='Teacher')
info2 = defaultdict(int, [('name', 'Timur'), ('age', 29), ('job', 'Teacher')])

print(info1)
print(info2)
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
defaultdict(<class 'int'>, {'name': 'Timur', 'age': 29, 'job': 'Teacher'})
defaultdict(<class 'int'>, {'name': 'Timur', 'age': 29, 'job': 'Teacher'})
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–ª–æ–≤–∞—Ä—è `defaultdict` –º—ã –º–æ–∂–µ–º —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –Ω–æ –Ω–µ –º–æ–∂–µ–º —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç —Å –ø–∞—Ä–∞–º–∏ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ (–∏–ª–∏ —Å–ª–æ–≤–∞—Ä—å).

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import defaultdict

info = defaultdict(name='Timur', age=29, job='Teacher')

print(info)
```

–≤—ã–≤–æ–¥–∏—Ç:¬†

```no-highlight
defaultdict(None, {'name': 'Timur', 'age': 29, 'job': 'Teacher'})
```

–í —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

```python
from collections import defaultdict

info = defaultdict([('name', 'Timur'), ('age', 29), ('job', 'Teacher')])

print(info)
```

–ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—é –æ—à–∏–±–∫–∏, —Ç–∞–∫ –∫–∞–∫ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–≤–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∫–∞–∑–∞–Ω¬†—Ç–∏–ø —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∞ –Ω–µ –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç —Å –ø–∞—Ä–∞–º–∏ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ (–∏–ª–∏ —Å–ª–æ–≤–∞—Ä—å).

**–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –∑–∞–¥–∞—á—É:**¬†–ø—É—Å—Ç—å –∑–∞–¥–∞–Ω —Å–ø–∏—Å–æ–∫¬†—á–∏—Å–µ–ª¬†`numbers`,¬†–≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —á–∏—Å–ª–∞ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑. –ù—É–∂–Ω–æ —É–∑–Ω–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ –∏–º–µ–Ω–Ω–æ —Ä–∞–∑ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –∫–∞–∂–¥–æ–µ –∏–∑¬†—á–∏—Å–µ–ª.

**–†–µ—à–µ–Ω–∏–µ 1.** –° –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `setdefault()`:

```python
numbers = [9, 8, 32, 1, 10, 1, 10, 23, 1, 4, 10, 4, 2, 2, 2, 2, 1, 10, 1, 2, 2, 32, 23, 23]

result = {}
for num in numbers:
    value = result.setdefault(num, 0)
    result[num] = value + 1
```

**–†–µ—à–µ–Ω–∏–µ 2.** –° –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `get()`:

```python
numbers = [9, 8, 32, 1, 10, 1, 10, 23, 1, 4, 10, 4, 2, 2, 2, 2, 1, 10, 1, 2, 2, 32, 23, 23]

result = {}
for num in numbers:
    result[num] = result.get(num, 0) + 1
```

**–†–µ—à–µ–Ω–∏–µ 3.** –° –ø–æ–º–æ—â—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ `in`:

```python
numbers = [9, 8, 32, 1, 10, 1, 10, 23, 1, 4, 10, 4, 2, 2, 2, 2, 1, 10, 1, 2, 2, 32, 23, 23]

result = {}
for num in numbers:
    if num not in result:
        result[num] = 1
    else:
        result[num] += 1
```

**–†–µ—à–µ–Ω–∏–µ 4.** –° –ø–æ–º–æ—â—å—é —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö¬†`defaultdict`:

```python
from collections import defaultdict

numbers = [9, 8, 32, 1, 10, 1, 10, 23, 1, 4, 10, 4, 2, 2, 2, 2, 1, 10, 1, 2, 2, 32, 23, 23]
result = defaultdict(int)

for num in numbers:
    result[num] += 1
```

–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö¬†`defaultdict`¬†—á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤ —Å–≤—è–∑–∫–µ —Å –ø—É—Å—Ç—ã–º —Å–ø–∏—Å–∫–æ–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é,¬†—á—Ç–æ–±—ã –Ω–∞—á–∏–Ω–∞—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –±–µ–∑ –ª–∏—à–Ω–µ–≥–æ –∫–æ–¥–∞.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫, –∫–∞–∫ –ø–æ–ª–∞–≥–∞–µ—Ç—Å—è:

```python
from collections import defaultdict

my_dict = defaultdict(list)

for i in range(7):
    my_dict[i].append(i)

for key in my_dict:
    print(key, my_dict[key])
```

–∏ –≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
0 [0]
1 [1]
2 [2]
3 [3]
4 [4]
5 [5]
6 [6]
```

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `defaultdict`¬†–Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞–ª–∏—á–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–ª—é—á–µ–π –≤ —Å–ª–æ–≤–∞—Ä–µ, –Ω–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –ø—É—Å—Ç—ã–µ —Å–ø–∏—Å–∫–∏.

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å defaultdict?

–ü—Ä–∏–≤–µ–¥–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π, –∫–æ–≥–¥–∞ —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `defaultdict`, –≤–º–µ—Å—Ç–æ `dict`:

1. –ï—Å–ª–∏ –≤–∞—à –∫–æ–¥ –≤ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–π —Å—Ç–µ–ø–µ–Ω–∏ –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Å–ª–æ–≤–∞—Ä—è—Ö¬†–∏ –≤—ã –≤—Å–µ –≤—Ä–µ–º—è –∏–º–µ–µ—Ç–µ –¥–µ–ª–æ —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –∫–ª—é—á–∞–º–∏, –≤–∞–º —Å–ª–µ–¥—É–µ—Ç –ø–æ–¥—É–º–∞—Ç—å –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `defaultdict`, –∞ –Ω–µ –æ–±—ã—á–Ω–æ–≥–æ `dict`
2. –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–∞—à–µ–≥–æ —Å–ª–æ–≤–∞—Ä—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≤–∞–º —Å–ª–µ–¥—É–µ—Ç –ø–æ–¥—É–º–∞—Ç—å –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `defaultdict`, –≤–º–µ—Å—Ç–æ `dict`
3. –ï—Å–ª–∏ –≤–∞—à –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–æ–≤–∞—Ä–∏ –¥–ª—è –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è, –ø–æ–¥—Å—á–µ—Ç–∞ –∏–ª–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–π, –≤–∞–º —Å–ª–µ–¥—É–µ—Ç –ø–æ–¥—É–º–∞—Ç—å –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `defaultdict`, –≤–º–µ—Å—Ç–æ `dict`

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1.** –¢–∏–ø `defaultdict` –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç —Ç–∏–ø–∞ `dict`.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import defaultdict

print(issubclass(defaultdict, dict))
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
True
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤—Å–µ –º–µ—Ç–æ–¥—ã –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö —Å–ª–æ–≤–∞—Ä–µ–π (—Ç–∏–ø `dict`), —Ç–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã –∏ –¥–ª—è `defaultdict`¬†—Å–ª–æ–≤–∞—Ä–µ–π.



–ú—ã –º–æ–∂–µ–º —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–µ —Å–ª–æ–≤–∞—Ä–∏ (—Ç–∏–ø `dict`) –∏ `defaultdict` —Å–ª–æ–≤–∞—Ä–∏.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import defaultdict

info1 = {'name': 'Timur', 'age': 29, 'job': 'Teacher'}
info2 = defaultdict(int, {'name': 'Timur', 'age': 29, 'job': 'Teacher'})

print(info1 == info2)
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
True
```

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ `defaultdict`¬†—Å–ª–æ–≤–∞—Ä—è –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –Ω–æ –∏ –ª—é–±—É—é —Ñ—É–Ω–∫—Ü–∏—é, **–Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é—â—É—é –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤** –∏ **–≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥ (–ø–µ—Ä–µ–¥–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –æ–±—ä—è–≤–ª–µ–Ω–Ω—É—é —Å –ø–æ–º–æ—â—å—é `def`):

```python
from collections import defaultdict

def get_default():
    return 69

info = defaultdict(get_default, {'name': 'Timur', 'age': 29, 'job': 'Teacher'})

print(info['name'])
print(info['salary'])
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
Timur
69
```

¬†–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥¬†(–ø–µ—Ä–µ–¥–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –æ–±—ä—è–≤–ª–µ–Ω–Ω—É—é —Å –ø–æ–º–æ—â—å—é `lambda`):

```python
from collections import defaultdict

info = defaultdict(lambda: '1000000$', {'name': 'Timur', 'age': 29, 'job': 'Teacher'})

print(info['name'])
print(info['salary'])
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
Timur
1000000$
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–∏–∫–∞–∫–∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import defaultdict

def get_default(x):
    return 2 * x

info = defaultdict(get_default, {'name': 'Timur', 'age': 29, 'job': 'Teacher'})

print(info['name'])
print(info['salary'])
```

–ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—é –æ—à–∏–±–∫–∏.

 –ï—Å–ª–∏ —Å–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä `defaultdict` —Å–ª–æ–≤–∞—Ä—è –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è `default_factory` (–∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–ª—é—á–µ–π), —Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ `defaultdict` –±—É–¥–µ—Ç —Ç–∞–∫–∏–º –∂–µ, –∫–∞–∫ –∏ —É –æ–±—ã—á–Ω–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è (—Ç–∏–ø `dict`).

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import defaultdict

data = defaultdict()

print(data['salary'])
```

–ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—é –æ—à–∏–±–∫–∏¬†`KeyError`.

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ `default_factory` –ø–µ—Ä–µ–¥–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ [[None (NoneType)]].

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import defaultdict

data = defaultdict(None)

print(data['salary'])
```

—Ç–∞–∫–∂–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—é –æ—à–∏–±–∫–∏¬†`KeyError`.

 ¬†–ó–Ω–∞—á–µ–Ω–∏–µ `None` —è–≤–ª—è–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è `default_factory`.

 –§—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–ª—é—á–µ–π, –º–æ–∂–Ω–æ —è–≤–Ω–æ –º–µ–Ω—è—Ç—å —á–µ—Ä–µ–∑ –∞—Ç—Ä–∏–±—É—Ç `default_factory`.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```python
from collections import defaultdict

data = defaultdict(int)
print(data['salary1'])

data.default_factory = list
print(data['salary2'])

data.default_factory = float
print(data['salary3'])
```

–≤—ã–≤–æ–¥–∏—Ç:

```no-highlight
0
[]
0.0
```

–¢–∏–ø `defaultdict`¬†—Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ —á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤¬†`setdefault()`¬†–∏ `get()`¬†–æ–±—ã—á–Ω–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è (—Ç–∏–ø `dict`).

–ü—Ä–µ–∫—Ä–∞—Å–Ω–∞—è —Å—Ç–∞—Ç—å—è –ø–æ —Ç–∏–ø—É¬†`defaultdict`¬†–¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ [—Å—Å—ã–ª–∫–µ](https://realpython.com/python-defaultdict/).

 –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥¬†`defaultdict`¬†–¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ [—Å—Å—ã–ª–∫–µ](https://github.com/python/cpython/blob/main/Modules/_collectionsmodule.c)¬†–∏ [—Å—Å—ã–ª–∫–µ](https://gist.github.com/ohe/1605376). –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –≤–∞–º –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –Ω–∏–º, —Ç–æ–≥–¥–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ —Ç–æ—á–Ω–æ –Ω–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è üòé.