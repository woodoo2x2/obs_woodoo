

После создания таблицы можно определить не только первичный ключ, но и внешний. Для этого необходимо воспользоваться оператором `ADD FOREIGN KEY`, а затем привычным способом определить внешний ключ.

Для рассмотрения примера определения внешнего ключа уже существующей таблицы, добавим в нашу базу данных дополнительную таблицу `Publishers`, которая хранит информацию о книжных издательствах. Она имеет следующий вид:

```no-highlight
+-----------------------+----------------+-------------------------+
| name                  | country        | website                 |
+-----------------------+----------------+-------------------------+
| Allen & Unwin         | United Kingdom | allenandunwin.com       |
| Bloomsbury Publishing | United Kingdom | bloomsbury.com          |
| New American Library  | United States  | penguin.com             |
| Viking Press          | United States  | penguin.com             |
| W.W.Norton & Company  | United States  | wnorton.com             |
+-----------------------+----------------+-------------------------+
```

Первое поле таблицы `Publishers` содержит название издательства, второе — страну издательства, третье — официальный сайт издательства.

Скрипт для создания таблицы `Publishers`

Предположим, мы хотим добавить в таблицу `Books` новое поле `publisher`, а затем сделать это поле внешним ключом, которое будет ссылаться на поле `name` таблицы `Publishers`. Тогда запрос, выполняющий это, будет выглядеть следующим образом:

```sql
ALTER TABLE Books
ADD COLUMN publisher VARCHAR(40);

ALTER TABLE Books
ADD FOREIGN KEY (publisher) REFERENCES Publishers (name);
```

Конечно, определение внешнего ключа можно было выполнить и во время добавления поля в таблицу, однако данный пример используется именно для демонстрации работы оператора `ADD FOREIGN KEY`.

Внешний ключ может быть как добавлен, так и удален. Удаление выполняется даже проще, чем добавление, для этого всего лишь необходимо воспользоваться оператором `DROP FOREIGN KEY`, а затем указать имя внешнего ключа, которое необходимо удалить.

Например, если после добавления в нашу таблицу `Books` поля `publisher` в качестве внешнего ключа мы хотим это поле преобразовать из внешнего ключа в обычное поле, то выполнить это можно следующим образом:

```sql
ALTER TABLE Books
DROP FOREIGN KEY publisher;
```