

При желании таблицу можно расширить, добавив ей новое поле. Для этого необходимо воспользоваться оператором `ADD COLUMN`, а затем предоставить определение нового поля таблицы.

В качестве примера использования оператора `ADD COLUMN` напишем запрос, который добавляет в таблицу `Books` целочисленное поле `release_year` — год выпуска книги.

После выполнения приведенного ниже запроса:

```sql
ALTER TABLE Books
ADD COLUMN release_year INT CHECK (release_year > 0);
```

таблица `Books` будет иметь вид:

```no-highlight
+----+------------------------------------------+-----------------+--------------+
| id | title                                    | author          | release_year |
+----+------------------------------------------+-----------------+--------------+
| 1  | Fight Club                               | Chuck Palahniuk | NULL         |
| 2  | The Green Mile                           | Stephen King    | NULL         |
| 3  | The Lord of the Rings                    | J.R.R. Tolkien  | NULL         |
| 4  | It                                       | Stephen King    | NULL         |
| 5  | Harry Potter and the Prisoner of Azkaban | J.K. Rowling    | NULL         |
+----+------------------------------------------+-----------------+--------------+
```

По умолчанию оператор `ADD COLUMN` добавляет новое поле в конец таблицы, однако это поведение можно изменить. Например, если после определения поля указать ключевое слово `FIRST`, новое поле будет добавлено в начало таблицы.

После выполнения приведенного ниже запроса:

```sql
ALTER TABLE Books
ADD COLUMN release_year INT CHECK (release_year > 0) FIRST;
```

таблица `Books` будет иметь вид:

```no-highlight
+--------------+----+------------------------------------------+-----------------+
| release_year | id | title                                    | author          |
+--------------+----+------------------------------------------+-----------------+
| NULL         | 1  | Fight Club                               | Chuck Palahniuk |
| NULL         | 2  | The Green Mile                           | Stephen King    |
| NULL         | 3  | The Lord of the Rings                    | J.R.R. Tolkien  |
| NULL         | 4  | It                                       | Stephen King    |
| NULL         | 5  | Harry Potter and the Prisoner of Azkaban | J.K. Rowling    |
+--------------+----+------------------------------------------+-----------------+
```

Также новое поле можно поместить в конкретную часть таблицы — после заданного поля. Для этого нужно указать ключевое слово `AFTER`, а затем предоставить название поля, после которого должно быть расположено новое поле.

После выполнения приведенного ниже запроса:

```sql
ALTER TABLE Books
ADD COLUMN release_year INT CHECK (release_year > 0) AFTER title;
```

таблица `Books` будет иметь вид:

```no-highlight
+----+------------------------------------------+--------------+-----------------+
| id | title                                    | release_year | author          |
+----+------------------------------------------+--------------+-----------------+
| 1  | Fight Club                               | NULL         | Chuck Palahniuk |
| 2  | The Green Mile                           | NULL         | Stephen King    |
| 3  | The Lord of the Rings                    | NULL         | J.R.R. Tolkien  |
| 4  | It                                       | NULL         | Stephen King    |
| 5  | Harry Potter and the Prisoner of Azkaban | NULL         | J.K. Rowling    |
+----+------------------------------------------+--------------+-----------------+
```

В примере выше по-прежнему добавляется целочисленное поле `release_year`, однако его положение определяется явно — после поля `title`.

Важно заметить, что если поле, которое использует ограничение `NOT NULL` и не имеет значения по умолчанию, добавляется в непустую таблицу, то для такого поля будет автоматически выбрано значение по умолчанию. Например, для целочисленного типа таким значением является `0`, для строкового — пустая строка.

Результатом приведенного ниже запроса:

```sql
ALTER TABLE Books
ADD COLUMN release_year INT NOT NULL;
```

является:

```no-highlight
+----+------------------------------------------+-----------------+--------------+
| id | title                                    | author          | release_year |
+----+------------------------------------------+-----------------+--------------+
| 1  | Fight Club                               | Chuck Palahniuk | 0            |
| 2  | The Green Mile                           | Stephen King    | 0            |
| 3  | The Lord of the Rings                    | J.R.R. Tolkien  | 0            |
| 4  | It                                       | Stephen King    | 0            |
| 5  | Harry Potter and the Prisoner of Azkaban | J.K. Rowling    | 0            |
+----+------------------------------------------+-----------------+--------------+
```

В данном примере вновь добавляется целочисленное поле `release_year`, однако уже с использованием ограничения `NOT NULL`. Таблица, в которую добавляется поле, имеет несколько записей, и все они должны что-то принять в качестве значения нового поля. Поскольку новое поле не поддерживает значение `NULL`, а значение по умолчанию не указано явно, все записи в качестве значения поля `release_year` принимают значение по умолчанию, выбранное автоматически, — число `0`.

Если поле, которое использует ограничение `NOT NULL` и не имеет значения по умолчанию, добавляется в пустую таблицу, то значение по умолчанию для такого поля автоматически выбрано не будет.

#sql