 В SQL существует оператор `REPLACE`, который работает как `INSERT` и `UPDATE` одновременно: запись добавляется в таблицу, если значение ее первичного ключа уникально. Если же оно совпадает со значением первичного ключа другой записи, то добавляемая запись заменяет эту другую запись.

После выполнения приведенного ниже запроса:

```sql
REPLACE INTO Books (id, title, author, price)
VALUES (1, 'Animal Farm', 'George Orwell', 9.99),
       (6, 'Lord of the Flies', 'William Golding', 5.99);
```

таблица `Books` будет иметь вид:

```no-highlight
+----+------------------------+-----------------+-------+
| id | title                  | author          | price |
+----+------------------------+-----------------+-------+
| 1  | Animal Farm            | George Orwell   | 9.99  |
| 2  | Fight Club             | Chuck Palahniuk | 9.99  |
| 3  | The Catcher in the Rye | J.D. Salinger   | 3.49  |
| 4  | The Green Mile         | Stephen King    | 15.99 |
| 5  | Haunted                | Chuck Palahniuk | 13.99 |
| 6  | Lord of the Flies      | William Golding | 5.99  |
+----+------------------------+-----------------+-------+
```

В данном примере из двух записей в таблицу `Books` добавляется только вторая, в то время как первая добавляемая запись заменяет первую запись таблицы, так как их значения первичного ключа совпадают.