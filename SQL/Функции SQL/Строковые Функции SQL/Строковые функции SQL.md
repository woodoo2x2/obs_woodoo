[[Функция CHAR_LENGTH()]]
[[Функция LOWER()]]
[[Функция UPPER()]]
[[Функции LTRIM() и RTRIM()]]
[[Функция REVERSE()]]
[[Функция REPEAT()]]
[[Функции LPAD() и RPAD()]]

[[Функция LEFT()]]
[[Функция RIGHT()]]
[[Функция LOCATE()]]
[[Функция REPLACE()]]

[[Функция SUBSTRING()]]
[[Функция SUBSTRING_INDEX()]]
[[Функция TRIM()]]

Функция `TRIM()` используется для удаления всех вхождений подстроки из начала и/или конца строки. Синтаксис данной функции несколько отличается от предыдущих, так как при ее вызове аргументы не указываются через запятую, а связываются с помощью ключевого слова `FROM`:

```css
TRIM(<ключевое слово LEADING, TRAILING или BOTH> <удаляемая подстрока> FROM <исходная строка>)
```

Ключевые слова `LEADING, TRAILING` и `BOTH` определяют, откуда будет происходить удаление подстроки:

- `LEADING` — из начала строки
- `TRAILING`  — из конца строки
- `BOTH` — из начала и конца строки

Результатом приведенного ниже запроса:

```
SELECT TRIM(LEADING '-' FROM '--bee--'),
       TRIM(TRAILING '-' FROM '--bee--'),
       TRIM(BOTH '-' FROM '--bee--');
```

является:

```no-highlight
+----------------------------------+-----------------------------------+-------------------------------+
| TRIM(LEADING '-' FROM '--bee--') | TRIM(TRAILING '-' FROM '--bee--') | TRIM(BOTH '-' FROM '--bee--') |
+----------------------------------+-----------------------------------+-------------------------------+
| bee--                            | --bee                             | bee                           |
+----------------------------------+-----------------------------------+-------------------------------+
```

Ключевые слова `LEADING, TRAILING` и `BOTH` могут не указываться, в таком случае удаление подстроки происходит из начала и конца строки.

Результатом приведенного ниже запроса:

```
SELECT TRIM('-' FROM '--bee--');
```

является:

```no-highlight
+--------------------------+
| TRIM('-' FROM '--bee--') |
+--------------------------+
| bee                      |
+--------------------------+
```

Удаляемая подстрока также может быть опущена, в таком случае ею считается пробел.

Результатом приведенного ниже запроса:

```
SELECT TRIM(LEADING FROM '   bee   '),
       TRIM(TRAILING FROM '   bee   '),
       TRIM(BOTH FROM '   bee   ');
```

является:

```no-highlight
+--------------------------------+---------------------------------+-----------------------------+
| TRIM(LEADING FROM '   bee   ') | TRIM(TRAILING FROM '   bee   ') | TRIM(BOTH FROM '   bee   ') |
+--------------------------------+---------------------------------+-----------------------------+
| bee                            |    bee                          | bee                         |
+--------------------------------+---------------------------------+-----------------------------+
```

Если не указаны и ключевое слово, и удаляемая подстрока, функция `TRIM()` выполнит удаление всех пробелов из начала и конца строки.

Результатом приведенного ниже запроса:

```
SELECT TRIM(' bee '),
       TRIM('   bee   ');
```

является:

```no-highlight
+---------------+-------------------+
| TRIM(' bee ') | TRIM('   bee   ') |
+---------------+-------------------+
| bee           | bee               |
+---------------+-------------------+
```

Обратите внимание, что при таком варианте использования функции ключевое слово `FROM` указывать не нужно.]]

Функции могут применяться как в блоке оператора `SELECT`, так и в блоках операторов `WHERE` и `ORDER BY`.

Предположим, во время работы с персональными данными людей нам необходимо выполнить их сортировку по именам, хранящимся в поле `name`, однако сортировка должна происходить не по прямым значениям имен, а по количеству символов в них. В рамках запроса такой вариант сортировки будет выглядеть следующим образом:

```css
...
ORDER BY CHAR_LENGTH(name);
```

Одним из недостатков функций является то, что в разных СУБД могут применяться разные функции для одних и тех же целей, и лишь некоторые функции в различных СУБД называются одинаково. Общая функциональность доступна в каждой СУБД, но названия функций и их синтаксис могут существенно отличаться.

 Функции `CHAR_LENGTH(), LOWER(), UPPER(), LTRIM(), RTRIM(), REVERSE(), REPEAT(), LPAD()` и `RPAD()` при вызове с аргументом `NULL` возвращают значение `NULL`.

Результатом приведенного ниже запроса:

```
SELECT CHAR_LENGTH(NULL)  AS value1,
       LOWER(NULL)        AS value2,
       UPPER(NULL)        AS value3,
       LTRIM(NULL)        AS value4,
       REVERSE(NULL)      AS value5,
       REPEAT(NULL, 2)    AS value6,
       LPAD(NULL, 5, '-') AS value7;
```

является:

```no-highlight
+--------+--------+--------+--------+--------+--------+--------+
| value1 | value2 | value3 | value4 | value5 | value6 | value7 |
+--------+--------+--------+--------+--------+--------+--------+
| NULL   | NULL   | NULL   | NULL   | NULL   | NULL   | NULL   |
```

 Несмотря на то что функции `CHAR_LENGTH(), REVERSE(), REPEAT(), LPAD()` и `RPAD()` в первую очередь предназначены для работы со строковыми значениями, они также могут обрабатывать и числовые данные.

Результатом приведенного ниже запроса:

```sql
SELECT CHAR_LENGTH(123),
       REVERSE(123),
       REPEAT(123, 2),
       LPAD(123, 4, '-');
```

является:

```no-highlight
+------------------+--------------+----------------+-------------------+
| CHAR_LENGTH(123) | REVERSE(123) | REPEAT(123, 2) | LPAD(123, 4, '-') |
+------------------+--------------+----------------+-------------------+
| 3                | 321          | 123123         | -123              |
+------------------+--------------+----------------+-------------------+
```