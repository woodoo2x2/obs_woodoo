

Ранее нами было упомянуто, что, помимо секционирования и упорядочивания, окно может обладать еще одной спецификацией — **определением границ**. С помощью данной спецификации можно детально обозначить, с какими именно записями окна должна взаимодействовать оконная функция.

Определение границ окна выполняется путем указания двух граничных точек: начальной и конечной. При указанных границах оконная функция будет работать только с теми записями окна (или секции окна, если было применено секционирование), которые заключены между граничными, включая сами границы.

Границы всегда определяются относительно той записи, с которой на данный момент взаимодействует оконная функция. Поэтому, например, начальной границей может являться предыдущая запись относительно текущей, а конечной — следующая. Таким образом, для каждой записи, с которой взаимодействует оконная функция, границы определяются индивидуально.

Предположим, мы работаем с окном (не разбитым на секции), которое имеет следующий вид:

```no-highlight
+----+-----------------+-------------+--------+
| id | full_name       | department  | salary |
+----+-----------------+-------------+--------+
| 1  | Sergey Brin     | Engineering | 10000  |
| 2  | John Doerr      | Sales       | 10000  |
| 3  | Larry Page      | Engineering | 7000   |
| 4  | Eric Schmidt    | Marketing   | 8000   |
| 5  | Sundar Pichai   | Sales       | 11000  |
+----+-----------------+-------------+--------+
```

Также допустим, что у нашего окна определены границы, причем в качестве начальной граничной точки указана предыдущая запись, а в качестве конечной — следующая. Тогда применяемая к окну оконная функция во время работы, например, со второй записью (`id = 2`) будет выполнять вычисления лишь в рамках следующей части окна:

```no-highlight
+----+-----------------+-------------+--------+
| id | full_name       | department  | salary |
+----+-----------------+-------------+--------+
| 1  | Sergey Brin     | Engineering | 10000  | ┐   <-- предыдущая запись
| 2  | John Doerr      | Sales       | 10000  | │   <-- текущая запись 
| 3  | Larry Page      | Engineering | 7000   | ┘   <-- следующая запись
| 4  | Eric Schmidt    | Marketing   | 8000   |
| 5  | Sundar Pichai   | Sales       | 11000  |
+----+-----------------+-------------+--------+
```

во время работы с третьей записью (`id = 3`) — в рамках следующей части окна:

```no-highlight
+----+-----------------+-------------+--------+
| id | full_name       | department  | salary |
+----+-----------------+-------------+--------+
| 1  | Sergey Brin     | Engineering | 10000  |
| 2  | John Doerr      | Sales       | 10000  | ┐    <-- предыдущая запись
| 3  | Larry Page      | Engineering | 7000   | │    <-- текущая запись
| 4  | Eric Schmidt    | Marketing   | 8000   | ┘    <-- следующая запись
| 5  | Sundar Pichai   | Sales       | 11000  |
+----+-----------------+-------------+--------+
```

Часть окна, получаемая в результате применения установленных границ, никогда не выходит за пределы окна, а если сталкивается с ними, то обрезается. Поэтому если оконная функция, применяемая к окну выше, будет работать, например, с первой записью (`id = 1`), то все ее вычисления будут выполняться в рамках следующей части окна:

```no-highlight
+----+-----------------+-------------+--------+
| id | full_name       | department  | salary |
+----+-----------------+-------------+--------+
| 1  | Sergey Brin     | Engineering | 10000  | ┐    <-- текущая запись
| 2  | John Doerr      | Sales       | 10000  | ┘    <-- следующая запись
| 3  | Larry Page      | Engineering | 7000   |
| 4  | Eric Schmidt    | Marketing   | 8000   |
| 5  | Sundar Pichai   | Sales       | 11000  |
+----+-----------------+-------------+--------+
```

если с пятой (`id = 5`) — в рамках следующей части окна:

```no-highlight
+----+-----------------+-------------+--------+
| id | full_name       | department  | salary |
+----+-----------------+-------------+--------+
| 1  | Sergey Brin     | Engineering | 10000  |
| 2  | John Doerr      | Sales       | 10000  |
| 3  | Larry Page      | Engineering | 7000   |
| 4  | Eric Schmidt    | Marketing   | 8000   | ┐    <-- предыдущая запись
| 5  | Sundar Pichai   | Sales       | 11000  | ┘    <-- текущая запись
+----+-----------------+-------------+--------+
```

Часть окна, получаемая в результате применения установленных границ, называется **фреймом**.