[[Функция ROW_NUMBER]]
[[Функции DENSE_RANK() и RANK()]]
[[Функция NTILE()]]



Ранжирующие функции практически всегда используются **только с упорядоченными окнами**. Более того, в некоторых СУБД ни одну из ранжирующих функций нельзя применить к окну, если оно не упорядочено

Оконные функции допустимо использовать для сортировки в блоке оператора `ORDER BY`.

Результатом приведенного ниже запроса:

```sql
SELECT id, full_name, salary
FROM Employees
ORDER BY NTILE(5) OVER (ORDER BY id), salary;
```

является:

```no-highlight
+----+-----------------+--------+
| id | full_name       | salary |
+----+-----------------+--------+
| 1  | Sergey Brin     | 10000  |
| 2  | John Doerr      | 10000  |
| 3  | Larry Page      | 7000   |
| 4  | Eric Schmidt    | 8000   |
| 6  | Marissa Mayer   | 9000   |
| 5  | Sundar Pichai   | 11000  |
| 8  | John Smith      | 7000   |
| 7  | Susan Wojcicki  | 8000   |
| 9  | Sheryl Sandberg | 9000   |
| 10 | Alice Johnson   | 10000  |
+----+-----------------+--------+
```

Так, запрос выше располагает сотрудников парами (первый-второй, третий-четвертый, и так далее), при этом в рамках пары ставя первым того сотрудника, чья зарплата меньше.
#sql 