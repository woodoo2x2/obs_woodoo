## Создание таблиц

SQL применяется не только для работы с табличными данными, но и для выполнения всех операций с базой данных, включая создание и модификацию таблиц. Большинство СУБД содержат инструменты администрирования, которые можно применять для интерактивного создания таблиц и управления ими. Однако с таблицами также можно работать посредством запросов. Например, для создания таблиц предназначен оператор `CREATE TABLE`, который мы и рассмотрим в этом уроке.

Интерактивный инструментарий, предоставляемый СУБД для работы с таблицами, в действительности реализуется с помощью обычных запросов, которые СУБД сама создает и выполняет незаметно от программиста.

Перед созданием таблицы всегда необходимо заранее определиться с ее именем, именами полей, а также типом данных каждого поля. В качестве примера создадим таблицу `Books`, предназначенную для хранения информации о различных книгах. Она будет включать три следующих поля:

- `id` — целочисленное поле, содержащее идентификатор книги
- `title` — строковое поле, содержащее название книги
- `author` — строковое поле, содержащее данные об авторе книги

Теперь рассмотрим запрос, который создает предложенную таблицу. Он выглядит следующим образом:

```sql
CREATE TABLE Books
(
    id     INT,
    title  VARCHAR(40),
    author VARCHAR(40)
);
```

Как видно из запроса выше, имя таблицы указывается сразу же после оператора `CREATE TABLE`. Далее следует определение таблицы, которое заключается в круглые скобки и содержит определение каждого поля. Определения полей разделяются запятыми. Определение каждого поля начинается с имени поля, а за ним указывается тип данных.


Во время создания очередной таблицы может оказаться так, что в базе данных содержится таблица, имя которой совпадает с именем создаваемой таблицы. Результатом такой операции будет ошибка.

Результатом приведенного ниже запроса:

```sql
CREATE TABLE Books
(
    id     INT,
    title  VARCHAR(40),
    author VARCHAR(40)
);

CREATE TABLE Books
(
    id     INT,
    title  VARCHAR(40),
    author VARCHAR(40),
    price  INT
);
```

является ошибка:

```no-highlight
ERROR 1050: Table 'Books' already exists
```

В данном запросе сначала успешно создается таблица `Books`, однако затем выполняется попытка создания таблицы вновь с именем `Books`, что приводит к ошибке, поскольку в базе данных уже имеется таблица с таким именем.

Чтобы перед созданием таблицы выполнить проверку того, что в базе данных нет таблицы с таким же именем, нужно после оператора `CREATE TABLE` указать сочетание ключевых слов `IF NOT EXISTS`. При их использовании создание таблицы произойдет только в том случае, если ее имя в рамках базы данных уникально.

В результате приведенного ниже запроса:

```sql
CREATE TABLE Books
(
    id     INT,
    title  VARCHAR(40),
    author VARCHAR(40)
);

CREATE TABLE IF NOT EXISTS Books
(
    id     INT,
    title  VARCHAR(40),
    author VARCHAR(40),
    price  INT
);
```

будет успешно выполнена первая операция создания таблицы `Books`, в то время как вторая операция создания таблицы с тем же именем будет проигнорирована.

#sql 